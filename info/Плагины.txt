https://docs.pytest.org/en/latest/reference/plugin_list.html

Для того, чтобы перезапустить упавший тест и убедиться, что он не flaky(временно упавший по обстоятельствам)
pytest-rerunfailures.
 pip install pytest-rerunfailures
 Чтобы указать количество перезапусков для каждого из упавших тестов, нужно добавить в командную строку параметр:

"--reruns n", где n — это количество перезапусков.

Дополнительно мы указали параметр "--tb=line", чтобы сократить лог с результатами теста. Можете почитать подробнее про настройку вывода в документации PyTest:

pytest -v --tb=line --reruns 1 --browser_name=chrome test_rerun.py
Мы увидим сообщение: "1 failed, 1 passed, 1 rerun in 9.20s", то есть упавший тест был перезапущен, но при втором запуске тоже упал. Если бы во второй раз мигающий тест все-таки прошёл успешно, то мы бы увидели сообщение: ﻿﻿"2 passed, 1 rerun in 9.20s"﻿, и итоговый результат запуска всех тестов считался бы успешным.

