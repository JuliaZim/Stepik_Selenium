Важно! Обычно методы у Page Object бывают двух типов: сделать что-то и проверить что-то.

Рассмотрим страницу товара в интернет магазине http://selenium1py.pythonanywhere.com/catalogue/the-shellcoders-handbook_209/.

Какие могут быть методы у Page Object, ассоциированного с такой страницей? Запишем основные сценарии:

добавить в корзину;
проверить, что есть сообщение об успешном добавлении в корзину;
перейти к написанию отзыва;
проверить, что есть название, цена, описание товара;
вернуться на главную.
Обратите внимание, что все проверки у нас тоже становятся отдельными методами. В самом тест-кейсе не остается никаких вспомогательных слов типа assert, только описание шагов. Прямо как в нашей тестовой документации.

Тесты будут выглядеть примерно так:

def test_add_to_cart(browser):
    page = ProductPage(url="", browser)   # инициализируем объект Page Object
    page.open()                           # открываем страницу в браузере
    page.should_be_add_to_cart_button()   # проверяем что есть кнопка добавления в корзину
    page.add_product_to_cart()            # жмем кнопку добавить в корзину
    page.should_be_success_message()      # проверяем что есть сообщение с нужным текстом